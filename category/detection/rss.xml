<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>meow • Posts by &#34;detection&#34; category</title>
        <link>http://onon1101.github.io</link>
        <description>早安&gt;.&lt;</description>
        <language>zh-TW</language>
        <pubDate>Sat, 06 May 2023 01:32:00 +0800</pubDate>
        <lastBuildDate>Sat, 06 May 2023 01:32:00 +0800</lastBuildDate>
        <category>hexo</category>
        <category>教學 Discrete-Mathematics</category>
        <category>教學 C/C++</category>
        <item>
            <guid isPermalink="true">http://onon1101.github.io/2023/05/06/network-security/detection/lecture-10/</guid>
            <title>lecture-10 信息蒐集的一個小小總結</title>
            <link>http://onon1101.github.io/2023/05/06/network-security/detection/lecture-10/</link>
            <pubDate>Sat, 06 May 2023 01:32:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;總結&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#總結&#34;&gt;#&lt;/a&gt; 總結&lt;/h2&gt;
&lt;p&gt;在這之前的文章都是關於信息蒐集的部分，因此這邊來做一個小小的總結。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;一開始說我們可以用 Nmap 做防火牆的探測或者其他的掃描，後面可以使用子域名的掃瞄，因為域名跟子域名可能會有關係。&lt;/li&gt;
&lt;li&gt;對於不同的子域名可以做 port 的掃瞄，操作系統的探測。&lt;/li&gt;
&lt;li&gt;假設發現了一個網站，可以掃描她的網站指紋檢測。&lt;/li&gt;
&lt;li&gt;目錄的掃瞄，看看有什麼敏感的信息，有沒有後台。假設沒有的話，可以用漏洞的掃描。&lt;/li&gt;
&lt;li&gt;但如果掃描器都沒有甚麼用的話，可能是 WAF 擋下來了，那麼要去偵測有沒有 WAF。可以用代理掃描，但也有可能是 payload。但也要偵測有沒有 CDN。&lt;/li&gt;
&lt;li&gt;攻擊之後可能會是密罐。&lt;/li&gt;
&lt;/ol&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://onon1101.github.io/2023/05/06/network-security/detection/lecture-9/</guid>
            <title>lecture-9 密罐陷阱</title>
            <link>http://onon1101.github.io/2023/05/06/network-security/detection/lecture-9/</link>
            <pubDate>Sat, 06 May 2023 01:19:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;密罐陷阱&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#密罐陷阱&#34;&gt;#&lt;/a&gt; 密罐陷阱&lt;/h2&gt;
&lt;p&gt;簡單來說是特意布置的陷阱，讓攻擊者能上當，當攻擊者使用攻擊手段進行攻擊的話，我們就能知道他的攻擊手法，這就是密罐陷阱。&lt;br&gt;
如果要說怎麼避免的話，只能透過經驗去判斷，假設今天這個網站很多漏洞，就要有警覺心了。&lt;/p&gt;
&lt;h2 id=&#34;hfish&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hfish&#34;&gt;#&lt;/a&gt; Hfish&lt;/h2&gt;
&lt;p&gt;一個功能不那麼強大的密罐&lt;br&gt;
&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9oZmlzaC5pby8jLw==&#34;&gt;下載網址&lt;/span&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://onon1101.github.io/2023/05/06/network-security/detection/lecture-8/</guid>
            <title>lecture-8 CDN檢測</title>
            <link>http://onon1101.github.io/2023/05/06/network-security/detection/lecture-8/</link>
            <pubDate>Sat, 06 May 2023 00:17:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;whichcdn&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#whichcdn&#34;&gt;#&lt;/a&gt; whichCDN&lt;/h2&gt;
&lt;p&gt;原理可能是用證書的透明度。&lt;br&gt;
&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL05pdHI0eC93aGljaENETg==&#34;&gt;下載連結&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&#34;cloudflair&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#cloudflair&#34;&gt;#&lt;/a&gt; cloudflair&lt;/h2&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2NocmlzdG9waGV0ZC9DbG91ZEZsYWly&#34;&gt;下載連結&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&#34;w8fuckdcdn&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#w8fuckdcdn&#34;&gt;#&lt;/a&gt; w8fuckdcdn&lt;/h2&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2NocmlzdG9waGV0ZC9DbG91ZEZsYWly&#34;&gt;下載連結&lt;/span&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;其實也可以用 nslookup 判斷有沒有使用 CDN, 如果有多個 IP 的解析，就代表有。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://onon1101.github.io/2023/05/05/network-security/detection/lecture-7/</guid>
            <title>lecture-7 代理掃描</title>
            <link>http://onon1101.github.io/2023/05/05/network-security/detection/lecture-7/</link>
            <pubDate>Fri, 05 May 2023 22:19:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;proxychain-ng&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#proxychain-ng&#34;&gt;#&lt;/a&gt; proxychain-ng&lt;/h2&gt;
&lt;p&gt;不過這個需要自己編譯。&lt;br&gt;
&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3JvZmwwci9wcm94eWNoYWlucy1uZw==&#34;&gt;下載網址&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;在執行命令之前，需要開 tor-browser/tor/tor…, 不過不太知道那是幹嘛的，所以之後再來補。&lt;br&gt;
補：tor.exe 是下載完 tor 瀏覽器後可以看到的執行檔案。tor.exe 是一個稱為洋蔥路由器的軟體，開啟她之後可以使用代理連線 (P2P)。從這個端口發送的流量就可以到 tor 裡面的路由了。&lt;br&gt;
&lt;img data-src=&#34;1.jpg&#34; alt&gt;&lt;/p&gt;
&lt;p&gt;這樣就會可以從代理的地方出口封包。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;proxychains4 &lt;span class=&#34;token parameter variable&#34;&gt;-f&lt;/span&gt; ./proxychains4-ng-4.11/src/proxychains.conf nmap &lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;可以看到默認是用 tor socks4 代理的&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-config&#34;&gt;#./src/proxychains.conf
...
[ProxyList]
# add proxy here ...
# meanwile
# defaults set to &amp;quot;tor&amp;quot;
socks4 	127.0.0.1 9050
...
&lt;/code&gt;&lt;/pre&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://onon1101.github.io/2023/05/04/network-security/detection/lecture-6/</guid>
            <title>lecture-6 WAF原理與掃描</title>
            <link>http://onon1101.github.io/2023/05/04/network-security/detection/lecture-6/</link>
            <pubDate>Thu, 04 May 2023 20:04:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;聊天&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#聊天&#34;&gt;#&lt;/a&gt; 聊天&lt;/h2&gt;
&lt;p&gt;其實掃描工具發展到最後可能都一樣，但他們的 payload 可能會不一樣。&lt;/p&gt;
&lt;h2 id=&#34;waf可不可以吃&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#waf可不可以吃&#34;&gt;#&lt;/a&gt; WAF 可不可以吃&lt;/h2&gt;
&lt;p&gt;全稱為 Web Application Firewall (網頁應用程式防火牆), 顧名思義用來保護網站的防火牆。工作在 OSI 第七層。&lt;br&gt;
&lt;img data-src=&#34;https://blog.cloudmax.com.tw/wp-content/uploads/2020/07/WAF-%E6%98%AF%E7%94%9A%E9%BA%BC-03.png&#34; alt&gt;&lt;/p&gt;
&lt;p&gt;而 WAF 是反向代理 (我就不展開說，反正我知道那是啥) 的方式，這樣能保護伺服器端。&lt;br&gt;
&lt;img data-src=&#34;https://www.cloudflare.com/img/learning/ddos/glossary/waf/waf.png&#34; alt&gt;&lt;/p&gt;
&lt;h2 id=&#34;waf00f&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#waf00f&#34;&gt;#&lt;/a&gt; waf00f&lt;/h2&gt;
&lt;p&gt;一個 WAF 的探測工具。可以探測 waf 的一些類型。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ waf00f &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ip&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;原理也是用封包探測的方式，再去分析她的特偵。&lt;/p&gt;
&lt;h1 id=&#34;reference&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#reference&#34;&gt;#&lt;/a&gt; Reference&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vemgtdHcvbGVhcm5pbmcvZGRvcy9nbG9zc2FyeS93ZWItYXBwbGljYXRpb24tZmlyZXdhbGwtd2FmLw==&#34;&gt;Cloudflare&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://onon1101.github.io/2023/05/04/network-security/detection/lecture-5/</guid>
            <title>lecture-5 網頁漏洞掃描</title>
            <link>http://onon1101.github.io/2023/05/04/network-security/detection/lecture-5/</link>
            <pubDate>Thu, 04 May 2023 20:03:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;jaeleshttpsgithubcomjaeles-projectjaeles&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#jaeleshttpsgithubcomjaeles-projectjaeles&#34;&gt;#&lt;/a&gt; (jaeles)[&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2phZWxlcy1wcm9qZWN0L2phZWxlcw==&#34;&gt;https://github.com/jaeles-project/jaeles&lt;/span&gt;]&lt;/h2&gt;
&lt;p&gt;可以與 burpsuite 對接。&lt;br&gt;
下載一些漏洞庫，並且初始化一些東西。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ ./jaeles-v0.15-linux-amd64 config init&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;掃描&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ https://github.com/jaeles-project/jaeles scan &lt;span class=&#34;token parameter variable&#34;&gt;-u&lt;/span&gt; http://zero.webappsecurity.com/&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;payload 可以從他的掃描庫裡面去看。&lt;br&gt;
原理也是遍地的放封包給他，然後再分析。&lt;/p&gt;
&lt;h2 id=&#34;niktohttpsgithubcomsullonikto&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#niktohttpsgithubcomsullonikto&#34;&gt;#&lt;/a&gt; (nikto)[&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3N1bGxvL25pa3Rv&#34;&gt;https://github.com/sullo/nikto&lt;/span&gt;]&lt;/h2&gt;
&lt;p&gt;默認都是把配置全部套用的。他可以代理，但這邊先不展開。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ nikto &lt;span class=&#34;token parameter variable&#34;&gt;-h&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ip&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;port&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;在說明文件裡面也有說明可以很多個掃描&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ nmap &lt;span class=&#34;token parameter variable&#34;&gt;-p80&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.0/24 &lt;span class=&#34;token parameter variable&#34;&gt;-oG&lt;/span&gt; - &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; nikto &lt;span class=&#34;token parameter variable&#34;&gt;-h&lt;/span&gt; -&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt; ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://onon1101.github.io/2023/05/04/network-security/detection/lecture-4/</guid>
            <title>lecture-4 網站指紋識別與網站目錄掃描</title>
            <link>http://onon1101.github.io/2023/05/04/network-security/detection/lecture-4/</link>
            <pubDate>Thu, 04 May 2023 18:24:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;指紋識別&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#指紋識別&#34;&gt;#&lt;/a&gt; 指紋識別&lt;/h2&gt;
&lt;p&gt;識別網站的特色，能查大概查清楚網站是用什麼框架寫的。在掃瞄網站目錄的時候，就能大概知道後台運作的流程。原理是請求不同的 HTTP 請求，每一個框架就會回傳不同的標頭檔案，再去分析他的特色。&lt;/p&gt;
&lt;p&gt;之後就可以用特定的工具去掃他的漏洞。假設網站是用 wordpress 搭建的，查詢可以使用 &lt;code&gt;wordpress scanner vulnerabilities&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;whatweb&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#whatweb&#34;&gt;#&lt;/a&gt; whatweb&lt;/h2&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ whatweb &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ip&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;whatrun&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#whatrun&#34;&gt;#&lt;/a&gt; whatrun&lt;/h2&gt;
&lt;p&gt;這是一個 chorme 自帶的套件，能分析指紋。&lt;/p&gt;
&lt;h2 id=&#34;網頁目錄掃描-burpsuite&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#網頁目錄掃描-burpsuite&#34;&gt;#&lt;/a&gt; 網頁目錄掃描 (burpsuite)&lt;/h2&gt;
&lt;p&gt;三種方式掃描，爬蟲爬取，暴力掃描，搜索引擎。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;爬蟲可以用 burpsuite。&lt;/li&gt;
&lt;li&gt;暴力破解：&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL21hdXJvc29yaWEvZGlyc2VhcmNo&#34;&gt;dirsearsh&lt;/span&gt;&lt;br&gt;
 為什麼需要暴力破解，爬蟲是用已知的內容去連結，但如果連結並沒有公開來的話，只能用猜的，如此才需要暴力破解。&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://onon1101.github.io/2023/05/04/network-security/detection/lecture-3/</guid>
            <title>lecture-3 子域名</title>
            <link>http://onon1101.github.io/2023/05/04/network-security/detection/lecture-3/</link>
            <pubDate>Thu, 04 May 2023 18:23:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;掃描子域名的證書&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#掃描子域名的證書&#34;&gt;#&lt;/a&gt; 掃描子域名的證書&lt;/h2&gt;
&lt;p&gt;這個用來查詢子域名的開發工具&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS90b29scy9jdC8=&#34;&gt; fackbook&lt;/span&gt;。&lt;br&gt;
&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jcnQuc2gv&#34;&gt;crt.sh&lt;/span&gt;, &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cudmlydXN0b3RhbC5jb20vZ3VpL2hvbWUvdXBsb2Fk&#34;&gt;virustotal&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&#34;maltego&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#maltego&#34;&gt;#&lt;/a&gt; Maltego&lt;/h2&gt;
&lt;p&gt;&lt;img data-src=&#34;Malted.jpg&#34; alt&gt;&lt;/p&gt;
&lt;h2 id=&#34;sublist3r&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sublist3r&#34;&gt;#&lt;/a&gt; Sublist3r&lt;/h2&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2Fib3VsM2xhL1N1Ymxpc3Qzcg==&#34;&gt;github&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&#34;oneforall&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#oneforall&#34;&gt;#&lt;/a&gt; OneForAll&lt;/h2&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3NobWlseWx0eS9PbmVGb3JBbGw=&#34;&gt;github&lt;/span&gt;&lt;br&gt;
 掃描玩的結果在 resule 資料夾裡面，要用 SQL 工具打開， &lt;code&gt;sqlitebrowser&lt;/code&gt; 。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://onon1101.github.io/2023/05/04/network-security/detection/lecture-2/</guid>
            <title>lecture-2 Nmap 操作</title>
            <link>http://onon1101.github.io/2023/05/04/network-security/detection/lecture-2/</link>
            <pubDate>Thu, 04 May 2023 18:22:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;nmap-是什麼&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#nmap-是什麼&#34;&gt;#&lt;/a&gt; Nmap 是什麼&lt;/h1&gt;
&lt;p&gt;nmap 是一個掃描工具，可以掃描已知或未知的 IP, 或者端口。&lt;/p&gt;
&lt;h2 id=&#34;大部分命令&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#大部分命令&#34;&gt;#&lt;/a&gt; 大部分命令&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;說明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-iflist&lt;/td&gt;
&lt;td&gt;顯示自身的網卡訊息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-sT&lt;/td&gt;
&lt;td&gt;全 TCP 掃描&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-sS&lt;/td&gt;
&lt;td&gt;半開放式掃描&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-sF -sN -sX&lt;/td&gt;
&lt;td&gt;有關防火牆的掃瞄&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-O&lt;/td&gt;
&lt;td&gt;操作系統&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-sV&lt;/td&gt;
&lt;td&gt;端口服務版本&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-Pn&lt;/td&gt;
&lt;td&gt;禁止使用探測是否有開機的封包&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-T&amp;lt;0~7&amp;gt;&lt;/td&gt;
&lt;td&gt;掃描速率，通常建議為 T4, 預設為 T3。最快為 T7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-D&lt;ip&gt;&lt;/ip&gt;&lt;/td&gt;
&lt;td&gt;偽裝 IP 來源&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-g&lt;port&gt;&lt;/port&gt;&lt;/td&gt;
&lt;td&gt;偽裝 port 來源&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;–spoof-mac&lt;/td&gt;
&lt;td&gt;mac 欺騙&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;常用指令&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#常用指令&#34;&gt;#&lt;/a&gt; 常用指令&lt;/h2&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ nmap &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ip&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-sS&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-sV&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# 顯示 port 伺服器版本&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ nmap &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ip&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;or&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;domain&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# 掃描目的&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ nmap &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ip&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-sS&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# TCP SYN 半開掃描&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;半開掃描&lt;br&gt;
這是指在 tcp 三次握手的時候，只做前面的兩次。這樣可以比較快，也可以不留紀錄的掃瞄。客戶端回發送 SYN 的封包，伺服器會發送 SYN+ACK。至此結束就稱為半開掃描。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;常用的命令&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ &lt;span class=&#34;token parameter variable&#34;&gt;-sn&lt;/span&gt; 使用半開放式TCP 掃描主機是否在線&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ &lt;span class=&#34;token parameter variable&#34;&gt;-sS&lt;/span&gt; 使用半開式TCP&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ &lt;span class=&#34;token parameter variable&#34;&gt;-sV&lt;/span&gt; 使用完整的TCP&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ &lt;span class=&#34;token parameter variable&#34;&gt;-O&lt;/span&gt;  探測操作系統&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;防火牆阻擋&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#防火牆阻擋&#34;&gt;#&lt;/a&gt; 防火牆阻擋&lt;/h2&gt;
&lt;p&gt;這邊留個小筆記，nmap 有參數可以偵測防火牆是否打開。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Starting Nmap &lt;span class=&#34;token number&#34;&gt;7.01&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt; https://nmap.org &lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; at &lt;span class=&#34;token number&#34;&gt;2021&lt;/span&gt;-04-25 &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;:45 CST&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Note: Host seems down. If it is really up, but blocking our &lt;span class=&#34;token function&#34;&gt;ping&lt;/span&gt; probes, try &lt;span class=&#34;token parameter variable&#34;&gt;-Pn&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Nmap done: &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; IP address &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; hosts up&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; scanned &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2.00&lt;/span&gt; seconds&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;在 nmap 掃描之前會發送 TCP 的 SYN 封包，如果防火牆拒絕回應 TCP port 80 or 443, 就會觸發拒絕。&lt;br&gt;
因此在確定掃描目標開啟之後，可以避開發送 TCP, 直接對其進行刺探。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ nmap &lt;span class=&#34;token parameter variable&#34;&gt;-T4&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-Pn&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ip&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;Port State&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;open:           port是開放&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;closed:         port是關閉&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;filtered:       防火牆被IDS/IPS, 無法確定狀態&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;unfiltered:     沒有被屏蔽, 但狀態還要再進一步確定&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt;filtered:  Port 開啟/遮蔽&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;closed&lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt;filtered:Port 關閉/遮蔽&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;阻擋&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#阻擋&#34;&gt;#&lt;/a&gt; 阻擋&lt;/h4&gt;
&lt;p&gt;被阻擋後可以使用 &lt;code&gt;-Pn&lt;/code&gt; 。&lt;br&gt;
如果出現 &lt;code&gt;Not shown: 998 filtered ports&lt;/code&gt; , 代表其他 998 個 port 被過濾了，如果顯示 &lt;code&gt;STATE close&lt;/code&gt; , 為防火牆有開啟此連線，但目標主機並沒有開啟使用這一項服務。 &lt;code&gt;STATE open&lt;/code&gt;  為防火牆有開啟此連線，並且也有此服務啟動。&lt;/p&gt;
&lt;h1 id=&#34;reference&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#reference&#34;&gt;#&lt;/a&gt; Reference&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9oYWNrNTQzLmNvbS9ubWFwLXR1dG9yaWFsLw==&#34;&gt;9 個常用的 nmap 掃描&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuZ3VzaGljaWt1LmNuL3BsL2dhblovemgtdHc=&#34;&gt;常用的命令&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://onon1101.github.io/2023/05/04/network-security/detection/lecture-1/</guid>
            <title>lecture-1 攻防思路</title>
            <link>http://onon1101.github.io/2023/05/04/network-security/detection/lecture-1/</link>
            <pubDate>Thu, 04 May 2023 18:01:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;資訊安全&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#資訊安全&#34;&gt;#&lt;/a&gt; 資訊安全&lt;/h1&gt;
&lt;p&gt;這是第一篇關於資訊安全的分類，分別記錄一下對於這個的學習過程。&lt;/p&gt;
&lt;h2 id=&#34;流程&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#流程&#34;&gt;#&lt;/a&gt; 流程&lt;/h2&gt;
&lt;p&gt;前幾篇先說明如何做到信息蒐集，當蒐集完成之後，開始攻擊。&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
